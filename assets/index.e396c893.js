var O=Object.defineProperty;var s=(r,a)=>O(r,"name",{value:a,configurable:!0});import{j as _,d as h,w as d}from"./iframe.16247353.js";var f;function L(r,a){return a||(a=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(a)}}))}s(L,"_taggedTemplateLiteral");function D(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}s(D,"_classCallCheck");function A(r,a){for(var e=0;e<a.length;e++){var t=a[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}s(A,"_defineProperties");function g(r,a,e){return a&&A(r.prototype,a),e&&A(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}s(g,"_createClass");var C=s(function(){return Math.random().toString(16).slice(2)},"generateRandomId"),p=function(){function r(){var a=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.transport,n=e.async,E=n===void 0?!1:n;D(this,r),this.isAsync=void 0,this.sender=C(),this.events={},this.data={},this.transport=void 0,this.addPeerListener=_(function(R,l){a.addListener(R,l)},h(f||(f=L([`
      channel.addPeerListener is deprecated
    `])))),this.isAsync=E,t&&(this.transport=t,this.transport.setHandler(function(R){return a.handleEvent(R)}))}return s(r,"Channel"),g(r,[{key:"hasTransport",get:s(function(){return!!this.transport},"get")},{key:"addListener",value:s(function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},"addListener")},{key:"emit",value:s(function(e){for(var t=this,n=arguments.length,E=new Array(n>1?n-1:0),R=1;R<n;R++)E[R-1]=arguments[R];var l={type:e,args:E,from:this.sender},T={};E.length>=1&&E[0]&&E[0].options&&(T=E[0].options);var c=s(function(){t.transport&&t.transport.send(l,T),t.handleEvent(l)},"handler");this.isAsync?setImmediate(c):c()},"emit")},{key:"last",value:s(function(e){return this.data[e]},"last")},{key:"eventNames",value:s(function(){return Object.keys(this.events)},"eventNames")},{key:"listenerCount",value:s(function(e){var t=this.listeners(e);return t?t.length:0},"listenerCount")},{key:"listeners",value:s(function(e){var t=this.events[e];return t||void 0},"listeners")},{key:"once",value:s(function(e,t){var n=this.onceListener(e,t);this.addListener(e,n)},"once")},{key:"removeAllListeners",value:s(function(e){e?this.events[e]&&delete this.events[e]:this.events={}},"removeAllListeners")},{key:"removeListener",value:s(function(e,t){var n=this.listeners(e);n&&(this.events[e]=n.filter(function(E){return E!==t}))},"removeListener")},{key:"on",value:s(function(e,t){this.addListener(e,t)},"on")},{key:"off",value:s(function(e,t){this.removeListener(e,t)},"off")},{key:"handleEvent",value:s(function(e){var t=this.listeners(e.type);t&&t.length&&t.forEach(function(n){n.apply(e,e.args)}),this.data[e.type]=e.args},"handleEvent")},{key:"onceListener",value:s(function(e,t){var n=this,E=s(function R(){return n.removeListener(e,R),t.apply(void 0,arguments)},"onceListener");return E},"onceListener")}]),r}();const Y=p;var N=d.LOGLEVEL,o=d.console,S={trace:1,debug:2,info:3,warn:4,error:5,silent:10},y=N,u=S[y]||S.info,m={trace:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<=S.trace&&o.trace.apply(o,[a].concat(t))},"trace"),debug:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<=S.debug&&o.debug.apply(o,[a].concat(t))},"debug"),info:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<=S.info&&o.info.apply(o,[a].concat(t))},"info"),warn:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<=S.warn&&o.warn.apply(o,[a].concat(t))},"warn"),error:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<=S.error&&o.error.apply(o,[a].concat(t))},"error"),log:s(function(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u<S.silent&&o.log.apply(o,[a].concat(t))},"log")},i;(function(r){r.CHANNEL_CREATED="channelCreated",r.CONFIG_ERROR="configError",r.STORY_INDEX_INVALIDATED="storyIndexInvalidated",r.STORY_SPECIFIED="storySpecified",r.SET_STORIES="setStories",r.SET_CURRENT_STORY="setCurrentStory",r.CURRENT_STORY_WAS_SET="currentStoryWasSet",r.FORCE_RE_RENDER="forceReRender",r.FORCE_REMOUNT="forceRemount",r.PRELOAD_STORIES="preloadStories",r.STORY_PREPARED="storyPrepared",r.STORY_CHANGED="storyChanged",r.STORY_UNCHANGED="storyUnchanged",r.STORY_RENDERED="storyRendered",r.STORY_MISSING="storyMissing",r.STORY_ERRORED="storyErrored",r.STORY_THREW_EXCEPTION="storyThrewException",r.STORY_RENDER_PHASE_CHANGED="storyRenderPhaseChanged",r.UPDATE_STORY_ARGS="updateStoryArgs",r.STORY_ARGS_UPDATED="storyArgsUpdated",r.RESET_STORY_ARGS="resetStoryArgs",r.SET_GLOBALS="setGlobals",r.UPDATE_GLOBALS="updateGlobals",r.GLOBALS_UPDATED="globalsUpdated",r.REGISTER_SUBSCRIPTION="registerSubscription",r.PREVIEW_KEYDOWN="previewKeydown",r.SELECT_STORY="selectStory",r.STORIES_COLLAPSE_ALL="storiesCollapseAll",r.STORIES_EXPAND_ALL="storiesExpandAll",r.DOCS_RENDERED="docsRendered",r.SHARED_STATE_CHANGED="sharedStateChanged",r.SHARED_STATE_SET="sharedStateSet",r.NAVIGATE_URL="navigateUrl",r.UPDATE_QUERY_PARAMS="updateQueryParams"})(i||(i={}));i.CHANNEL_CREATED;i.CONFIG_ERROR;i.STORY_INDEX_INVALIDATED;i.STORY_SPECIFIED;i.SET_STORIES;i.SET_CURRENT_STORY;i.CURRENT_STORY_WAS_SET;i.FORCE_RE_RENDER;i.FORCE_REMOUNT;i.STORY_PREPARED;var G=i.STORY_CHANGED;i.STORY_UNCHANGED;i.PRELOAD_STORIES;i.STORY_RENDERED;i.STORY_MISSING;i.STORY_ERRORED;i.STORY_THREW_EXCEPTION;i.STORY_RENDER_PHASE_CHANGED;i.UPDATE_STORY_ARGS;i.STORY_ARGS_UPDATED;i.RESET_STORY_ARGS;i.SET_GLOBALS;i.UPDATE_GLOBALS;i.GLOBALS_UPDATED;i.REGISTER_SUBSCRIPTION;i.PREVIEW_KEYDOWN;var U=i.SELECT_STORY;i.STORIES_COLLAPSE_ALL;i.STORIES_EXPAND_ALL;i.DOCS_RENDERED;i.SHARED_STATE_CHANGED;i.SHARED_STATE_SET;i.NAVIGATE_URL;i.UPDATE_QUERY_PARAMS;export{Y as C,G as S,U as a,m as l};
//# sourceMappingURL=index.e396c893.js.map
