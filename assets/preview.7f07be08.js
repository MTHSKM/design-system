var U=Object.defineProperty;var i=(r,e)=>U(r,"name",{value:e,configurable:!0});var _=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);import{w as f,o as k}from"./iframe.16247353.js";import{C as D,l as $,S as j}from"./index.e396c893.js";var re=_((oe,c)=>{function Y(){var r={setHandler:i(function(){},"setHandler"),send:i(function(){},"send")};return new D({transport:r})}i(Y,"mockChannel");var w;(function(r){r.TAB="tab",r.PANEL="panel",r.TOOL="tool",r.TOOLEXTRA="toolextra",r.PREVIEW="preview",r.NOTES_ELEMENT="notes-element"})(w||(w={}));function y(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}i(y,"_defineProperties");function B(r,e,n){return e&&y(r.prototype,e),n&&y(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}i(B,"_createClass");function M(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}i(M,"_classCallCheck");var q=B(i(function r(){var e=this;M(this,r),this.loaders={},this.elements={},this.config={},this.channel=void 0,this.serverChannel=void 0,this.promise=void 0,this.resolve=void 0,this.getChannel=function(){return e.channel||e.setChannel(Y()),e.channel},this.getServerChannel=function(){if(!e.serverChannel)throw new Error("Accessing non-existent serverChannel");return e.serverChannel},this.ready=function(){return e.promise},this.hasChannel=function(){return!!e.channel},this.hasServerChannel=function(){return!!e.serverChannel},this.setChannel=function(n){e.channel=n,e.resolve()},this.setServerChannel=function(n){e.serverChannel=n},this.getElements=function(n){return e.elements[n]||(e.elements[n]={}),e.elements[n]},this.addPanel=function(n,t){e.add(n,Object.assign({type:w.PANEL},t))},this.add=function(n,t){var s=t.type,l=e.getElements(s);l[n]=Object.assign({id:n},t)},this.setConfig=function(n){Object.assign(e.config,n)},this.getConfig=function(){return e.config},this.register=function(n,t){e.loaders[n]&&$.warn("".concat(n," was loaded twice, this could have bad side-effects")),e.loaders[n]=t},this.loadAddons=function(n){Object.values(e.loaders).forEach(function(t){return t(n)})},this.promise=new Promise(function(n){e.resolve=function(){return n(e.getChannel())}})},"AddonStore")),E="__STORYBOOK_ADDONS";function K(){return f[E]||(f[E]=new q),f[E]}i(K,"getAddonsStore");var N=K(),d="storybook/a11y",H="a11yHighlight",Q="".concat(d,"/result"),V="".concat(d,"/request"),W="".concat(d,"/running"),X="".concat(d,"/error"),z="".concat(d,"/manual"),F="".concat(d,"/highlight"),v={RESULT:Q,REQUEST:V,RUNNING:W,ERROR:X,MANUAL:z,HIGHLIGHT:F};function A(r,e,n,t,s,l,a){try{var h=r[l](a),u=h.value}catch(m){n(m);return}h.done?e(u):Promise.resolve(u).then(t,s)}i(A,"asyncGeneratorStep");function T(r){return function(){var e=this,n=arguments;return new Promise(function(t,s){var l=r.apply(e,n);function a(u){A(l,t,s,a,h,"next",u)}i(a,"_next");function h(u){A(l,t,s,a,h,"throw",u)}i(h,"_throw"),a(void 0)})}}i(T,"_asyncToGenerator");var J=f.document,Z=f.window;c&&c.hot&&c.hot.decline&&c.hot.decline();var g=N.getChannel(),p=!1,R,x=function(){var r=T(regeneratorRuntime.mark(i(function e(n){var t,s;return regeneratorRuntime.wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L(n);case 2:if(t=a.sent,s=t.manual,s){a.next=7;break}return a.next=7,O(n);case 7:case"end":return a.stop()}},"_callee$"),e)},"_callee")));return i(function(n){return r.apply(this,arguments)},"handleRequest")}(),O=function(){var r=T(regeneratorRuntime.mark(i(function e(n){var t,s,l,a,h,u,m,C,b;return regeneratorRuntime.wrap(i(function(o){for(;;)switch(o.prev=o.next){case 0:return R=n,o.prev=1,o.next=4,L(n);case 4:if(t=o.sent,p){o.next=19;break}return p=!0,g.emit(v.RUNNING),o.next=10,k(()=>import("./axe.cc347085.js").then(P=>P.a),["assets/axe.cc347085.js","assets/iframe.16247353.js"]);case 10:return s=o.sent.default,l=t.element,a=l===void 0?"#root":l,h=t.config,u=t.options,m=u===void 0?{}:u,C=J.querySelector(a),s.reset(),h&&s.configure(h),o.next=17,s.run(C,m);case 17:b=o.sent,R===n?g.emit(v.RESULT,b):(p=!1,O(R));case 19:o.next=24;break;case 21:o.prev=21,o.t0=o.catch(1),g.emit(v.ERROR,o.t0);case 24:return o.prev=24,p=!1,o.finish(24);case 27:case"end":return o.stop()}},"_callee2$"),e,null,[[1,21,24,27]])},"_callee2")));return i(function(n){return r.apply(this,arguments)},"run")}(),L=function(){var r=T(regeneratorRuntime.mark(i(function e(n){var t,s;return regeneratorRuntime.wrap(i(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z.__STORYBOOK_STORY_STORE__.loadStory({storyId:n});case 2:if(a.t0=a.sent,a.t0){a.next=5;break}a.t0={};case 5:return t=a.t0,s=t.parameters,a.abrupt("return",s.a11y||{config:{},options:{restoreScroll:!0}});case 8:case"end":return a.stop()}},"_callee3$"),e)},"_callee3")));return i(function(n){return r.apply(this,arguments)},"getParams")}();g.on(v.REQUEST,x);g.on(v.MANUAL,O);var ee=i(function(e){return`
  outline: 2px dashed `.concat(e,`;
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(255,255,255,0.6);
`)},"highlightStyle"),S=f.document;c&&c.hot&&c.hot.decline&&c.hot.decline();var I=N.getChannel(),ne=i(function(e){var n=H;G();var t=Array.from(new Set(e.elements)),s=S.createElement("style");s.setAttribute("id",n),s.innerHTML=t.map(function(l){return"".concat(l,`{
          `).concat(ee(e.color),`
         }`)}).join(" "),S.head.appendChild(s)},"highlight"),G=i(function(){var e=H,n=S.getElementById(e);n&&n.parentNode.removeChild(n)},"resetHighlight");I.on(j,G);I.on(v.HIGHLIGHT,ne)});export default re();
//# sourceMappingURL=preview.7f07be08.js.map
